kibana:
  image:
    repository: docker.elastic.co/kibana/kibana
    tag: 7.13.1
    pullPolicy: IfNotPresent
  service:
    type: LoadBalancer
    port: 3334
    targetPort: 5601
serviceAccount:
  create: true # Ensure a ServiceAccount is created
  name: "" # Leave empty to use the default name generated by the chart
ingress:
  enabled: false
autoscaling:
  enabled: false # Set to true if you want to enable autoscaling
  minReplicas: 1 # Minimum number of replicas
  maxReplicas: 5 # Maximum number of replicas
  targetCPUUtilizationPercentage: 80 # Target CPU utilization for scaling
  targetMemoryUtilizationPercentage: 80 # Target memory utilization for scaling
extraInitContainers:
  - name: wait-for-elasticsearch
    image: curlimages/curl:latest
    command:
      - sh
      - -c
      - |
        until curl -s http://elasticsearch-master.observability.svc.cluster.local:9200/_cluster/health | grep '"status":"green"' > /dev/null; do
          echo "Waiting for Elasticsearch to be ready..."
          sleep 5
        done
    resources:
      requests:
        memory: "50Mi"
        cpu: "10m"
      limits:
        memory: "100Mi"
        cpu: "50m"
