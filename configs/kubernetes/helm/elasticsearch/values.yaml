elasticsearch:
  image:
    repository: docker.elastic.co/elasticsearch/elasticsearch
    tag: 7.13.1
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 9200
  environment:
    - name: discovery.type
      value: single-node
    - name: xpack.security.enabled
      value: "false" # Disable security for testing
    - name: ES_JAVA_OPTS
      value: "-Xms2g -Xmx2g" # Set heap size to 2GB
  healthcheck:
    test: ["CMD", "curl", "-f", "http://localhost:9200/_cluster/health"]
    interval: 10s
    retries: 5
    timeout: 5s
  resources:
    requests:
      memory: "4Gi" # Reduce memory request
      cpu: "1" # Reduce CPU request
    limits:
      memory: "4Gi" # Reduce memory limit
      cpu: "2" # Reduce CPU limit
serviceAccount:
  create: true # Ensure a ServiceAccount is created
  name: "" # Leave empty to use the default name generated by the chart
ingress:
  enabled: false # Set to true if you want to enable ingress
  annotations: {} # Add ingress annotations if needed
  hosts:
    - host: "" # Specify the hostname for the ingress (e.g., elasticsearch.local)
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls: [] # Configure TLS if needed
autoscaling:
  enabled: false # Set to true if you want to enable autoscaling
  minReplicas: 1 # Minimum number of replicas
  maxReplicas: 5 # Maximum number of replicas
  targetCPUUtilizationPercentage: 80 # Target CPU utilization for scaling
  targetMemoryUtilizationPercentage: 80 # Target memory utilization for scaling
